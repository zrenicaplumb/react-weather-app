{"ast":null,"code":"import _regeneratorRuntime from \"/Users/brian/.nvm/react-weather-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/brian/.nvm/react-weather-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/brian/.nvm/react-weather-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/brian/.nvm/react-weather-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/brian/.nvm/react-weather-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/brian/.nvm/react-weather-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/brian/.nvm/react-weather-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/brian/.nvm/react-weather-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/brian/.nvm/react-weather-app/src/views/RecipeApp/RecipeApp.js\";\nimport React from 'react';\nimport Search from '../../components/RecipeApp/Search';\nimport Title from '../../components/RecipeApp/Title';\nimport Recipe from '../../components/RecipeApp/Recipe'; // import { Link } from 'react-router';\n\nimport './styles.css';\nvar APP_ID = 'e05eeb65';\nvar APP_KEY = '35964658d64fd0af273596106567c147';\nObject.defineProperty(Array.prototype, \"pluck\", {\n  value: function value(key) {\n    return this.map(function (object) {\n      return object[key];\n    });\n  }\n});\n\nvar App =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(App, _React$Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n    _this.state = {\n      recipeData: undefined,\n      searchItem: undefined,\n      recipes: [],\n      ingredients: [],\n      ingredientText: [],\n      nutrition: []\n    };\n    _this.getRecipeData = _this.getRecipeData.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.prepareData = _this.prepareData.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"prepareData\",\n    value: function () {\n      var _prepareData = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(data, searchItem) {\n        var ingredients, recipes, ingredientText, nutrition;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                ingredients = data.hits.reduce(function (all_integredients, hit) {\n                  all_integredients.concat(hit.recipe.ingredients);\n                  return all_integredients;\n                }, []);\n                recipes = data.hits.pluck('recipe');\n                ingredientText = ingredients.pluck('text');\n                nutrition = recipes.pluck('digest').reduce(function (digests, digest) {\n                  digests = digests.concat(digest);\n                  return digests;\n                }, []);\n                this.setState({\n                  recipeData: data,\n                  recipes: recipes,\n                  ingredients: ingredients,\n                  ingredientText: ingredientText,\n                  searchItem: searchItem,\n                  nutrition: nutrition\n                });\n                console.log(data);\n\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function prepareData(_x, _x2) {\n        return _prepareData.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2() {\n        var search, api_call, data;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                search = 'random';\n                _context2.next = 3;\n                return fetch(\"https://api.edamam.com/search?q=\".concat(search, \"&app_id=\").concat(APP_ID, \"&app_key=\").concat(APP_KEY, \"&to=25\"));\n\n              case 3:\n                api_call = _context2.sent;\n                _context2.next = 6;\n                return api_call.json();\n\n              case 6:\n                data = _context2.sent;\n                this.prepareData(data);\n\n              case 8:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      return function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"getRecipeData\",\n    value: function () {\n      var _getRecipeData = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3(e) {\n        var search, max_search_results, min_calories, max_calories, api_call, data, searchItem;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                e.preventDefault();\n                search = e.target.elements.recipe_search.value;\n                max_search_results = e.target.elements.max_search_results.value;\n                min_calories = e.target.elements.min_calories.value;\n                max_calories = e.target.elements.max_calories.value;\n\n                if (!min_calories) {\n                  min_calories = 100;\n                }\n\n                if (!max_calories) {\n                  max_calories = 1000;\n                }\n\n                _context3.next = 9;\n                return fetch(\"https://api.edamam.com/search?q=\".concat(search, \"&app_id=\").concat(APP_ID, \"&app_key=\").concat(APP_KEY, \"\\n                                          &to=\").concat(max_search_results, \"&calories=\").concat(min_calories, \"-\").concat(max_calories));\n\n              case 9:\n                api_call = _context3.sent;\n                _context3.next = 12;\n                return api_call.json();\n\n              case 12:\n                data = _context3.sent;\n                searchItem = data.q;\n                this.prepareData(data, searchItem);\n                console.log(this.state);\n\n              case 16:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      return function getRecipeData(_x3) {\n        return _getRecipeData.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"recipeAppWrap\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"headerWrap\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(Title, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }), React.createElement(Search, {\n        getRecipeData: this.getRecipeData,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }), this.state.searchItem && React.createElement(\"h2\", {\n        className: \"searchItem\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, this.state.searchItem, \" Recipes\"), React.createElement(\"div\", {\n        className: \"recipeListContainer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, this.state.recipes && this.state.recipes.map(function (recipe) {\n        return React.createElement(\"div\", {\n          className: \"recipe\",\n          key: recipe.label,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100\n          },\n          __self: this\n        }, React.createElement(Recipe, {\n          recipe: recipe // label={recipe.label}\n          // image={recipe.image}\n          // alt={recipe.label}\n          // calories={recipe.calories}\n          // shareas={recipe.shareas}\n          // source={recipe.source}\n          // url={recipe.url}\n          // nutrition={recipe.digest}\n          // yield={recipe.yield}\n          ,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101\n          },\n          __self: this\n        }));\n      }, this)))));\n    }\n  }]);\n\n  return App;\n}(React.Component);\n\nexport { App as default };","map":{"version":3,"sources":["/Users/brian/.nvm/react-weather-app/src/views/RecipeApp/RecipeApp.js"],"names":["React","Search","Title","Recipe","APP_ID","APP_KEY","Object","defineProperty","Array","prototype","value","key","map","object","App","props","state","recipeData","undefined","searchItem","recipes","ingredients","ingredientText","nutrition","getRecipeData","bind","prepareData","data","hits","reduce","all_integredients","hit","concat","recipe","pluck","digests","digest","setState","console","log","search","fetch","api_call","json","e","preventDefault","target","elements","recipe_search","max_search_results","min_calories","max_calories","q","label","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Search from '../../components/RecipeApp/Search';\nimport Title from '../../components/RecipeApp/Title';\nimport Recipe from '../../components/RecipeApp/Recipe';\n// import { Link } from 'react-router';\nimport './styles.css';\n\nconst APP_ID = 'e05eeb65';\nconst APP_KEY = '35964658d64fd0af273596106567c147';\n\nObject.defineProperty(Array.prototype, \"pluck\", {\n      value: function(key) {\n          return this.map(function(object) { return object[key]; });\n      }\n  });\n\nexport default class App extends React.Component{\n      \n      constructor(props){\n            super(props);\n            this.state = {\n                  recipeData:undefined,\n                  searchItem:undefined,\n                  recipes:[],\n                  ingredients:[],\n                  ingredientText:[],\n                  nutrition:[],\n            }\n            this.getRecipeData = this.getRecipeData.bind(this);\n            this.prepareData = this.prepareData.bind(this);\n      }\n\n      async prepareData(data, searchItem){\n            const ingredients = data.hits.reduce(function(all_integredients, hit){\n                  all_integredients.concat(hit.recipe.ingredients);\n                  return all_integredients;\n            }, []);\n            const recipes = data.hits.pluck('recipe');\n            const ingredientText = ingredients.pluck('text');\n            const nutrition = recipes.pluck('digest').reduce(function(digests, digest){\n                  digests = digests.concat(digest);\n                  return digests;\n            }, []);\n            this.setState({\n                  recipeData:data,\n                  recipes:recipes,\n                  ingredients:ingredients,\n                  ingredientText:ingredientText,\n                  searchItem:searchItem,\n                  nutrition:nutrition\n            })\n            console.log(data);\n      }\n\n      async componentDidMount(){\n            const search = 'random';\n            const api_call = await fetch(`https://api.edamam.com/search?q=${search}&app_id=${APP_ID}&app_key=${APP_KEY}&to=25`);\n            const data = await api_call.json();\n            this.prepareData(data);\n           \n      }\n      \n\n      async getRecipeData(e){\n            e.preventDefault();\n            const search = e.target.elements.recipe_search.value;\n            const max_search_results = e.target.elements.max_search_results.value;\n            let min_calories = e.target.elements.min_calories.value;\n            let max_calories = e.target.elements.max_calories.value;\n            if(!min_calories){\n                  min_calories = 100;\n            }\n            if(!max_calories){\n                  max_calories = 1000;\n            }\n            const api_call = await fetch(`https://api.edamam.com/search?q=${search}&app_id=${APP_ID}&app_key=${APP_KEY}\n                                          &to=${max_search_results}&calories=${min_calories}-${max_calories}`);\n\n            const data = await api_call.json();\n            const searchItem = data.q;\n            this.prepareData(data, searchItem);\n            console.log(this.state)\n      }\n\n      render(){          \n            return(\n                  <div className=\"recipeAppWrap\">\n                        <div className=\"container\">\n                              <div className=\"headerWrap\">\n                                    <Title/>\n                                    <Search \n                                          getRecipeData={this.getRecipeData}\n                                    />\n                                    {this.state.searchItem && <h2 className=\"searchItem\">{this.state.searchItem} Recipes</h2>}\n                                    <div className=\"recipeListContainer\">\n                                    {this.state.recipes && this.state.recipes.map(function(recipe){\n                                          \n                                          return(\n                                          \n                                                <div className=\"recipe\" key={recipe.label}>\n                                                      <Recipe\n                                                            recipe={recipe}\n                                                            // label={recipe.label}\n                                                            // image={recipe.image}\n                                                            // alt={recipe.label}\n                                                            // calories={recipe.calories}\n                                                            // shareas={recipe.shareas}\n                                                            // source={recipe.source}\n                                                            // url={recipe.url}\n                                                            // nutrition={recipe.digest}\n                                                            // yield={recipe.yield}\n                                                      />\n                        \n                                                </div>    \n                                          )\n                                    }, this)}\n                              \n                                    </div>\n                              </div>\n                        </div>\n                  </div>\n            )\n      }\n}"]},"metadata":{},"sourceType":"module"}